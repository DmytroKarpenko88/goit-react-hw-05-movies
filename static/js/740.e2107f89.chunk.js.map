{"version":3,"file":"static/js/740.e2107f89.chunk.js","mappings":"kRAoFA,UA7Ee,WAAO,IAAD,EACnB,GAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MACjBC,QAAQC,IAAI,YAAaH,GAEzB,OAAwCI,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAsCT,EAAAA,EAAAA,UAAS,IAA/C,eAAOU,EAAP,KAAoBC,EAApB,KACMC,EAAK,UAAGJ,EAAaK,IAAI,gBAApB,QAAgC,GAyBrCC,EAAS,mCAAG,+FACVC,EAAAA,EAAAA,IAAYH,GAAOI,MAAK,YAAkB,IAAfC,EAAc,EAAdA,QAC/BZ,QAAQC,IAAIW,GACZf,GAAU,OAAIe,GACf,IAJe,2CAAH,qDAmBf,OAZAC,EAAAA,EAAAA,YAAU,WACHR,GAQLK,EAAAA,EAAAA,IAAYL,GAAaM,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiBf,GAAU,OAAIe,GAA/B,IAP5BZ,QAAQC,IAAI,OAQf,GAAE,CAACI,KAGF,4BACE,SAAC,EAAAS,QAAD,mCAEA,kBAAMC,SA1CW,SAAAC,GACnBA,EAAEC,iBAEGV,GANLD,EAAeC,GACfE,KAMES,EAAAA,OAAAA,QAAe,oBAIlB,EAkCG,WACE,mBAAQC,KAAK,SAAb,qBACA,kBAAOA,KAAK,OAAOC,MAAOb,EAAOc,SAlCb,SAAAL,GACxB,GAAuB,KAAnBA,EAAEM,OAAOF,MACX,OAAOhB,EAAgB,CAAC,GAE1BA,EAAgB,CAAEG,MAAOS,EAAEM,OAAOF,OAGnC,QA+BG,SAAC,EAAAG,KAAD,UACG3B,EAAO4B,KAAI,YAAiC,IAA9BC,EAA6B,EAA7BA,GAAIC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YACxB,OACE,SAAC,EAAAC,SAAD,WACE,UAAC,KAAD,CAAMC,GAAE,UAAKJ,GAAMK,MAAO,CAAEC,KAAMjC,GAAlC,WACE,gBAAKkC,IAAG,UAAKC,EAAAA,GAAL,OAAeN,GAAeO,IAAKR,IAC1CA,MAHUD,EAOlB,QAIR,C","sources":["Pages/Movies.jsx"],"sourcesContent":["import { Notify } from 'notiflix';\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { searchMovie } from 'services/api';\nimport { IMG_URL } from 'services/variables';\nimport { Heading, Grid, GridItem } from 'components';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n  console.log('location:', location);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState('');\n  const query = searchParams.get('query') ?? '';\n\n  const onSubmit = () => {\n    setSearchQuery(query);\n    getMovies();\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!query) {\n      Notify.failure('Enter the request');\n      return;\n    }\n    onSubmit(query);\n  };\n\n  const updateQueryString = e => {\n    if (e.target.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: e.target.value });\n    // const nextParams = name !== '' ? {name} : {};\n    // setSearchParams(nextParams)\n  };\n\n  const getMovies = async () => {\n    await searchMovie(query).then(({ results }) => {\n      console.log(results);\n      setMovies([...results]);\n    });\n  };\n\n  useEffect(() => {\n    if (!searchQuery) {\n      console.log('Back');\n\n      // if (query) {\n      //   searchMovie(query).then(({ results }) => setMovies([...results]));\n      // }\n      return;\n    }\n    searchMovie(searchQuery).then(({ results }) => setMovies([...results]));\n  }, [searchQuery]);\n\n  return (\n    <div>\n      <Heading>Movies ðŸŽ¬</Heading>\n\n      <form onSubmit={handleSubmit}>\n        <button type=\"submit\">Search</button>\n        <input type=\"text\" value={query} onChange={updateQueryString} />\n      </form>\n      {/* <input type=\"text\" value={query} onChange={updateQueryString} /> */}\n\n      <Grid>\n        {movies.map(({ id, title, poster_path }) => {\n          return (\n            <GridItem key={id}>\n              <Link to={`${id}`} state={{ from: location }}>\n                <img src={`${IMG_URL}${poster_path}`} alt={title} />\n                {title}\n              </Link>\n            </GridItem>\n          );\n        })}\n      </Grid>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","movies","setMovies","location","useLocation","console","log","useSearchParams","searchParams","setSearchParams","searchQuery","setSearchQuery","query","get","getMovies","searchMovie","then","results","useEffect","Heading","onSubmit","e","preventDefault","Notify","type","value","onChange","target","Grid","map","id","title","poster_path","GridItem","to","state","from","src","IMG_URL","alt"],"sourceRoot":""}