{"version":3,"file":"static/js/740.6ff09e2d.chunk.js","mappings":"sSAwFA,UA9Ee,WAAO,IAAD,EACnB,GAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAGjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAC3C,GAAsCT,EAAAA,EAAAA,UAASQ,GAA/C,eAAOE,EAAP,KAAoBC,EAApB,KAyBMC,EAAS,mCAAG,+FACVC,EAAAA,EAAAA,IAAYL,GAAOM,MAAK,YAAkB,IAAfC,EAAc,EAAdA,QAC/BC,QAAQC,IAAIF,GACZb,GAAU,OAAIa,GACf,IAJe,2CAAH,qDAcf,OAPAG,EAAAA,EAAAA,YAAU,WACHR,IAGLG,EAAAA,EAAAA,IAAYH,GAAaI,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiBb,GAAU,OAAIa,GAA/B,GAC/B,GAAE,CAACL,KAGF,iCAME,SAAC,IAAD,CACES,aAzCe,SAAAC,GACnBA,EAAEC,iBAEGb,GANLG,EAAeH,GACfI,KAMEU,EAAAA,OAAAA,QAAe,oBAIlB,EAkCKd,MAAOA,EACPe,kBAjCoB,SAAAH,GACxB,GAAuB,KAAnBA,EAAEI,OAAOC,MACX,OAAOlB,EAAgB,CAAC,GAE1BA,EAAgB,CAAEC,MAAOY,EAAEI,OAAOC,OAGnC,KA6BG,SAAC,EAAAC,KAAD,UACGzB,EAAO0B,KAAI,YAAiC,IAA9BC,EAA6B,EAA7BA,GAAIC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YACxB,OACE,SAAC,EAAAC,SAAD,WACE,UAAC,KAAD,CAAMC,GAAE,UAAKJ,GAAMK,MAAO,CAAEC,KAAM/B,GAAlC,WACE,gBACEgC,IAAKL,EAAW,UAAMM,EAAAA,GAAN,OAAgBN,GAAgBO,EAChDC,IAAKT,IAENA,MANUD,EAUlB,QAIR,C","sources":["Pages/Movies.jsx"],"sourcesContent":["import { Notify } from 'notiflix';\nimport { useEffect, useState } from 'react';\n// import PropTypes from 'prop-types';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { searchMovie } from 'services/api';\nimport { IMG_URL } from 'services/variables';\nimport poster from '../components/Images/movie-background-collage.jpg';\nimport { Grid, GridItem } from 'components';\nimport Search from 'components/Search/Search';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n  // console.log('location:', location);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const [searchQuery, setSearchQuery] = useState(query);\n\n  const onSubmit = () => {\n    setSearchQuery(query);\n    getMovies();\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!query) {\n      Notify.failure('Enter the request');\n      return;\n    }\n    onSubmit(query);\n  };\n\n  const updateQueryString = e => {\n    if (e.target.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: e.target.value });\n    // const nextParams = name !== '' ? {name} : {};\n    // setSearchParams(nextParams)\n  };\n\n  const getMovies = async () => {\n    await searchMovie(query).then(({ results }) => {\n      console.log(results);\n      setMovies([...results]);\n    });\n  };\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    searchMovie(searchQuery).then(({ results }) => setMovies([...results]));\n  }, [searchQuery]);\n\n  return (\n    <>\n      {/* <form onSubmit={handleSubmit}>\n        <button type=\"submit\">Search</button>\n        <input type=\"text\" value={query} onChange={updateQueryString} />\n      </form> */}\n\n      <Search\n        handleSubmit={handleSubmit}\n        query={query}\n        updateQueryString={updateQueryString}\n      />\n\n      <Grid>\n        {movies.map(({ id, title, poster_path }) => {\n          return (\n            <GridItem key={id}>\n              <Link to={`${id}`} state={{ from: location }}>\n                <img\n                  src={poster_path ? `${IMG_URL}${poster_path}` : poster}\n                  alt={title}\n                />\n                {title}\n              </Link>\n            </GridItem>\n          );\n        })}\n      </Grid>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","movies","setMovies","location","useLocation","useSearchParams","searchParams","setSearchParams","query","get","searchQuery","setSearchQuery","getMovies","searchMovie","then","results","console","log","useEffect","handleSubmit","e","preventDefault","Notify","updateQueryString","target","value","Grid","map","id","title","poster_path","GridItem","to","state","from","src","IMG_URL","poster","alt"],"sourceRoot":""}